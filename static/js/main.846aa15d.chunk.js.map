{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/popup_type_success.svg","images/popup_type_fail.svg","components/InfoToolTip.js","utils/api.js","utils/auth.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","onSignOut","onBurgerOpen","isBurgerMenuOpened","navigationClassName","burgerMenuClassName","headerClassName","className","src","logo","alt","path","to","onClick","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","link","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","method","action","children","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","id","autoComplete","placeholder","minLength","maxLength","required","onChange","target","value","ImagePopup","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","Login","onLogin","initialData","password","history","useHistory","data","setData","handleChange","resetForm","then","push","catch","err","console","log","Register","onRegister","InfoToolTip","success","fail","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","_apiAnswer","body","JSON","stringify","state","putLike","deleteLike","BASE_URL","responseCheck","response","ProtectedRoute","Component","component","App","isEditAvatarPopupOpen","setAvatarIsOpen","isAddPlacePopupOpen","setAddIsOpen","isEditProfilePopupOpen","setEditIsOpen","isInfoToolTipPopupOpen","setInfoToolTipIsOpen","setSuccess","selectedCard","setSelectedCard","setBurgerIsOpened","setCurrentUser","setCards","closeAllPopups","getUserData","getInitialCards","setLoggedIn","tokenCheck","useCallback","jwt","localStorage","getItem","statusCode","Error","handleSignOut","removeItem","Provider","exact","changeLikeCardStatus","newCard","newCards","c","deletetCard","filter","auth","setItem","updateUserInfo","updateAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.846aa15d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","import logo from '../../src/images/logo.svg';\r\nimport React from 'react';\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nexport default function Header({ loggedIn, email, onSignOut, onBurgerOpen, isBurgerMenuOpened }) {\r\n    const navigationClassName = (\r\n        `${loggedIn ? 'header__nav' : 'header__nav_disabled'}`\r\n    )\r\n    const burgerMenuClassName = (\r\n        `${isBurgerMenuOpened ? 'header__burger-menu_close' : 'header__burger-menu'}`\r\n    );\r\n    const headerClassName = (\r\n        `${loggedIn ? 'header' : 'header_unauthtorized'}`\r\n\r\n    )\r\n    return (\r\n        <header className={headerClassName}>\r\n            <img\r\n                className=\"header__logo\"\r\n                src={logo}\r\n                alt=\"Место Россия\"\r\n            />\r\n            <ul className=\"header__links\">\r\n                <Switch>\r\n                    <Route path=\"/sign-up\">\r\n                        <li className=\"header__link\"><Link className=\"header__link link\" to=\"/sign-in\">Войти</Link></li>\r\n                    </Route>\r\n                    <Route path=\"/sign-in\">\r\n                        <li className=\"header__link\"><Link className=\"header__link link\" to=\"/sign-up\">Регистрация</Link></li>\r\n                    </Route>\r\n                </Switch>\r\n            </ul>\r\n            {loggedIn\r\n                ?\r\n                <>\r\n                    <div className={`${burgerMenuClassName} button`} onClick={onBurgerOpen} />\r\n                </>\r\n                : ''}\r\n            <ul className={navigationClassName}>\r\n                {loggedIn\r\n                    ?\r\n                    <>\r\n                        <li className=\"header__email\">{email}</li>\r\n                        <li onClick={onSignOut}><Link className=\"header__nav_exit-link\" to=\"/sign-in\">Выйти</Link></li>\r\n                    </>\r\n                    : ''}\r\n            </ul>\r\n        </header >\r\n    )\r\n}","export default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <h3 className=\"footer__copyright\">&copy; 2021 Mesto Russia</h3>\r\n        </footer>\r\n    );\r\n}","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Card(props) {\r\n    const { currentUser } = React.useContext(CurrentUserContext)\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        ` ${isOwn ? 'element__delete-button' : 'element__delete-button_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked ? 'element__like-button_type_active' : 'element__like-button'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <article className=\"element\">\r\n            <img className=\"element__photo\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\r\n            <button type=\"button\" className={`${cardDeleteButtonClassName} button`} onClick={handleDeleteClick} />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__place\">{props.card.name}</h2>\r\n                <button type=\"button\" className={`${cardLikeButtonClassName} button`} onClick={handleLikeClick} />\r\n                <span className=\"element__likes\">{props.card.likes.length}</span>\r\n            </div>\r\n        </article>\r\n    );\r\n}","import React from 'react';\r\nimport Card from './Card.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Main(props) {\r\n    const { currentUser } = React.useContext(CurrentUserContext)\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__overlay\">\r\n                    <img\r\n                        className=\"profile__avatar\"\r\n                        src={currentUser.avatar}\r\n                        alt=\"Аватар\"\r\n                        onClick={props.onEditAvatar}\r\n                    />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__editor\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"profile__edit-button button\"\r\n                            onClick={props.onEditProfile}\r\n                        />\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"profile__add-button button\"\r\n                    onClick={props.onAddPlace}\r\n                />\r\n            </section>\r\n            <section className=\"elements\">\r\n                {props.cards.map((card) => {\r\n                    return (\r\n                        <Card\r\n                            key={card._id}\r\n                            card={card}\r\n                            onCardClick={props.onCardClick}\r\n                            onCardLike={props.onCardLike}\r\n                            onCardDelete={props.onCardDelete}\r\n                        />)\r\n                })}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\n","export default function PopupWithForm(props) {\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__content\">\r\n                <button type=\"button\" className=\"popup__close-button button\" onClick={props.onClose} />\r\n                <h3 className=\"popup__title\">{`${props.title}`}</h3>\r\n                <form\r\n                    onSubmit={props.onSubmit}\r\n                    className=\"popup__form\"\r\n                    method=\"PATCH\"\r\n                    action=\"#\"\r\n                    name={`${props.name}`}>\r\n                    {props.children}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const { currentUser } = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('')\r\n    const [about, setDescription] = React.useState('')\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about\r\n        });\r\n    }\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeAbout(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Редактировать профиль\"\r\n            name=\"edit\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                id=\"name\"\r\n                name=\"name\"\r\n                autoComplete=\"off\"\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_name\"\r\n                placeholder=\"Имя\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n                onChange={handleChangeName}\r\n                value={name || ''}\r\n            />\r\n            <span id=\"name-error\" className=\"error\"></span>\r\n            <input\r\n                id=\"description\"\r\n                name=\"about\"\r\n                autoComplete=\"off\"\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_description\"\r\n                placeholder=\"О себе\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                required\r\n                onChange={handleChangeAbout}\r\n                value={about || ''}\r\n            />\r\n            <span id=\"description-error\" className=\"error\"></span>\r\n            <button type=\"submit\" className=\"popup__submit-button\">\r\n                Сохранить\r\n            </button>\r\n        </PopupWithForm >\r\n    )\r\n}","export default function ImagePopup(props) {\r\n    return (\r\n        <div className={`popup popup__${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__image-caption\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"popup__close-button button popup__close-button_type_modal\" onClick={props.onClose}\r\n                />\r\n                <figure className=\"figure\">\r\n                    <img className=\"popup__image\" alt={props.card ? props.card.name : '#'} src={props.card ? props.card.link : '#'} />\r\n                    <figcaption className=\"popup__caption\">{props.card ? props.card.name : '#'}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\n\r\nexport default function EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"update-avavtar\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n      <input\r\n        id=\"link\"\r\n        autoComplete=\"off\"\r\n        className=\"popup__input popup__input_type_avatar popup__input_type_modal\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"link\"\r\n        type=\"url\"\r\n        required\r\n        ref={avatarRef} />\r\n      <span id=\"link-error\" className=\"error\"></span>\r\n      <button type=\"submit\" className=\"popup__submit-button\">Сохранить</button>\r\n    </PopupWithForm>)\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('')\r\n    const [link, setLink] = React.useState('')\r\n\r\n    function handleAddPlaceSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name,\r\n            link\r\n        })\r\n    }\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Новое место\"\r\n            name=\"add-card\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleAddPlaceSubmit}>\r\n            <input\r\n                id=\"place\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                className=\"popup__input popup__input_type_place popup__input_type_modal\"\r\n                placeholder=\"Название\"\r\n                name=\"name\"\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                required\r\n                onChange={handleChangeName}\r\n                value={name || ''}\r\n            />\r\n            <span id=\"place-error\" className=\"error\"></span>\r\n            <input\r\n                id=\"url\"\r\n                autoComplete=\"off\"\r\n                className=\"popup__input popup__input_type_photo popup__input_type_modal\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                name=\"link\"\r\n                type=\"url\"\r\n                required\r\n                onChange={handleChangeLink}\r\n                value={link || ''}\r\n            />\r\n            <span id=\"url-error\" className=\"error\"></span>\r\n            <button type=\"submit\" className=\"popup__submit-button\">Создать</button>\r\n        </PopupWithForm>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport default function Login({ onLogin }) {\r\n    const initialData = {\r\n        email: '',\r\n        password: '',\r\n    }\r\n    const history = useHistory();\r\n    const [data, setData] = useState(initialData);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData(data => ({\r\n            ...data,\r\n            [name]: value,\r\n        }));\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setData(initialData);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!data.email || !data.password) {\r\n            return;\r\n        }\r\n\r\n        onLogin(data)\r\n            .then(resetForm)\r\n            .then(() => history.push('/'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sign-in\" onSubmit={handleSubmit}>\r\n                <h3 className=\"sign-in__title\">Вход</h3>\r\n                <form\r\n                    className=\"sign-in__form\"\r\n                    method=\"POST\"\r\n                    action=\"#\">\r\n                    <input\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        autoComplete=\"off\"\r\n                        type=\"email\"\r\n                        className=\"sign-in__input popup__input_type_email\"\r\n                        placeholder=\"Email\"\r\n                        minLength=\"9\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        onChange={handleChange}\r\n                        value={data.email}\r\n                    />\r\n                    <input\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        autoComplete=\"off\"\r\n                        type=\"password\"\r\n                        className=\"sign-in__input popup__input_type_password\"\r\n                        placeholder=\"Пароль\"\r\n                        minLength=\"8\"\r\n                        maxLength=\"15\"\r\n                        required\r\n                        onChange={handleChange}\r\n                        value={data.password}\r\n                    />\r\n                    <button type=\"submit\" className=\"sign-in__submit-button\">\r\n                        Войти\r\n                    </button>\r\n                </form>\r\n                <span className=\"register__link-to-login\">Ещё не зарегистрированы? <Link to=\"/sign-up\" className=\"register__link-to-login link\">Зарегистрироваться</Link></span>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister }) {\r\n    const initialData = {\r\n        email: '',\r\n        password: '',\r\n    };\r\n    const [data, setData] = useState(initialData);\r\n    const history = useHistory();\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData(data => ({\r\n            ...data,\r\n            [name]: value,\r\n        }));\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setData(initialData);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!data.password || !data.email) {\r\n            return;\r\n        }\r\n\r\n        onRegister(data)\r\n            .then(resetForm)\r\n            .then(() => history.push('/sign-in'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sign-in\">\r\n                <h3 className=\"sign-in__title\">Регистрация</h3>\r\n                <form\r\n                    className=\"sign-in__form\"\r\n                    method=\"PATCH\"\r\n                    action=\"#\"\r\n                    onSubmit={handleSubmit}\r\n                >\r\n                    <input\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        autoComplete=\"off\"\r\n                        type=\"email\"\r\n                        className=\"sign-in__input popup__input_type_email\"\r\n                        placeholder=\"Email\"\r\n                        minLength=\"9\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        onChange={handleChange}\r\n                        value={data.email}\r\n                    />\r\n                    <input\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        autoComplete=\"off\"\r\n                        type=\"password\"\r\n                        className=\"sign-in__input popup__input_type_password\"\r\n                        placeholder=\"Пароль\"\r\n                        minLength=\"8\"\r\n                        maxLength=\"15\"\r\n                        required\r\n                        onChange={handleChange}\r\n                        value={data.password}\r\n                    />\r\n                    <button type=\"submit\" className=\"sign-in__submit-button\">\r\n                        Зарегистрироваться\r\n                    </button>\r\n                    <span className=\"register__link-to-login\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__link-to-login link\">Войти</Link></span>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}   ","export default __webpack_public_path__ + \"static/media/popup_type_success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/popup_type_fail.df8eddf6.svg\";","import success from '../../src/images/popup_type_success.svg';\r\nimport fail from '../../src/images/popup_type_fail.svg'\r\nexport default function InfoToolTip(props) {\r\n    return (\r\n        <div className={`popup popup_type_success ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__content\">\r\n                <button type=\"button\" className=\"popup__close-button button\" onClick={props.onClose} />\r\n                <img className=\"tooltip__image\"\r\n                    src={props.success\r\n                        ? success\r\n                        : fail}\r\n                    alt=\"success or fail\" />\r\n                <h2 className=\"tooltip__title\">\r\n                    {props.success\r\n                        ? \"Вы успешно зарегистрировались!\"\r\n                        : \"Что - то пошло не так!\\nПопробуйте ещё раз.\"}\r\n                </h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}","class Api {\r\n    constructor({ address, token }) {\r\n        this._address = address;\r\n        this._token = token;\r\n    }\r\n\r\n    _apiAnswer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._address}/cards`, {\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}/users/me`, {\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    updateUserInfo(data) {\r\n        return fetch(`${this._address}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    updateAvatar(data) {\r\n        return fetch(`${this._address}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    postCard(data) {\r\n        return fetch(`${this._address}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    deletetCard(id) {\r\n        return fetch(`${this._address}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._address}/cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._address}/cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then((res) => this._apiAnswer(res))\r\n    }\r\n\r\n    changeLikeCardStatus(id, state) {\r\n        return state ? this.putLike(id) : this.deleteLike(id)\r\n    }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    token: 'cabe1d76-a428-4aaa-846e-7d735d853b84'\r\n})","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\r\n\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then(responseCheck)\r\n};\r\n\r\nexport const login = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then(responseCheck)\r\n};\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(responseCheck)\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Main from './Main.js'\r\nimport EditProfilePopup from './EditProfilePopup.js'\r\nimport ImagePopup from './ImagePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoToolTip from './InfoToolTip';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\nimport { api } from \"../utils/api\";\r\nimport { Route, Switch, useHistory, Redirect, } from \"react-router-dom\";\r\nimport * as auth from '../utils/auth.js';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\n\r\nexport default function App() {\r\n  const [isEditAvatarPopupOpen, setAvatarIsOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddIsOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditIsOpen] = React.useState(false);\r\n  const [isInfoToolTipPopupOpen, setInfoToolTipIsOpen] = React.useState(false);\r\n  const [success, setSuccess] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  const [isBurgerMenuOpened, setBurgerIsOpened] = React.useState(false)\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  function handleEditAvatarClick() {\r\n    setAvatarIsOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditIsOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddIsOpen(true)\r\n  }\r\n\r\n  function handleBurgerOpen() {\r\n    if (isBurgerMenuOpened === false) {\r\n      setBurgerIsOpened(true)\r\n    } else {\r\n      setBurgerIsOpened(false)\r\n    }\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ name: card.name, link: card.link })\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setAvatarIsOpen(false);\r\n    setAddIsOpen(false);\r\n    setEditIsOpen(false);\r\n    setSelectedCard(false);\r\n    setInfoToolTipIsOpen(false);\r\n    //setConfirmIsOpen(false);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) =>\r\n          c._id === card._id\r\n            ? newCard\r\n            : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deletetCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => {\r\n          return c._id !== card._id\r\n        })\r\n        setCards(newCards)\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.updateUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.updateAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.postCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getUserData()\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    api.getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [])\r\n\r\n  const initialData = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [data, setData] = React.useState(initialData);\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = React.useCallback(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth.checkToken(jwt)\r\n        .then((res) => {\r\n          if (!res || res.statusCode === 400) throw new Error('Токен не передан или передан не в том формате');\r\n          if (!res || res.statusCode === 401) throw new Error('Переданный токен некорректен ');\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setData({\r\n              email: res.data.email\r\n            })\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(() => history.push('/sign-in'));\r\n    }\r\n  }, [history])\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [tokenCheck])\r\n\r\n  const handleLogin = ({ email, password }) => {\r\n    return auth.login(email, password)\r\n      .then(res => {\r\n        if (!res || res.statusCode === 400) throw new Error('Не передано одно из полей ');\r\n        if (!res || res.statusCode === 401) throw new Error('Пользователь с таким email не найден');\r\n        if (res.token) {\r\n          setLoggedIn(true);\r\n          setData({ email });\r\n          localStorage.setItem('jwt', res.token);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  const handleRegister = ({ email, password }) => {\r\n    return auth.register(email, password)\r\n      .then(res => {\r\n        if (!res || res.statusCode === 400) throw new Error('Некорректно заполнено одно из полей ');\r\n        setSuccess(true);\r\n        setInfoToolTipIsOpen(true);\r\n        history.push('/sign-in');\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n        setInfoToolTipIsOpen(true)\r\n      })\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setData(initialData);\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={{ currentUser }}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header\r\n            loggedIn={loggedIn}\r\n            email={data.email}\r\n            onSignOut={handleSignOut}\r\n            isBurgerMenuOpened={isBurgerMenuOpened}\r\n            onBurgerOpen={handleBurgerOpen}\r\n\r\n          />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              loggedIn={loggedIn}\r\n              onSignOut={handleSignOut}\r\n              component={Main}\r\n              cards={cards}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onClose={closeAllPopups}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} tokenCheck={tokenCheck} />\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n          <ImagePopup\r\n            name=\"image-caption\"\r\n            isOpen={selectedCard}\r\n            card={selectedCard}\r\n            onClose={closeAllPopups} />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser} />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar} />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit} />\r\n          <Footer />\r\n          <InfoToolTip\r\n            isOpen={isInfoToolTipPopupOpen}\r\n            success={success}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </div >\r\n    </CurrentUserContext.Provider >\r\n  );\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}